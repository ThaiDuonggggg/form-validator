<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="./style.css">
    <title>Form</title>
</head>
<body>
    <div class="main">
        <form action="" class="form" id="form-1" method="POST"> 
            <h3 class="heading">Thành viên đăng ký</h3>
            <p class="description">Cùng nhau học lập trình miễn phí tại F8 ❤️</p>

            <div class="spacer"></div>

            <div class="form-group">
                <label for="fullname" class="form-label">Tên đầy đủ</label>
                <input type="text" name="fullname" id="fullname" class="form-control" placeholder="VD: Dương Hồng">
                <span class="form-message"></span>
            </div>

            <div class="form-group">
                <label for="email" class="form-label">Email</label>
                <input type="email" name="email" id="email" class="form-control" placeholder="VD: email@gmail.com">
                <span class="form-message"></span>
            </div>

            <div class="form-group">
                <label for="password" class="form-label">Mật khẩu</label>
                <input type="password" name="password" id="password" class="form-control" placeholder="Nhập mật khẩu">
                <span class="form-message"></span>
            </div>

            <div class="form-group">
                <label for="password_confirmation" class="form-label">Nhập lại mật khẩu</label>
                <input type="password" name="password_confirmation" id="password_confirmation" class="form-control" placeholder="Nhập lại mật khẩu">
                <span class="form-message"></span>
            </div>
            <div class="form-group">
                <label for="password_confirmation" class="form-label">Giới tính</label>
                <input type="radio" name="gender" class="form-control" value="male">
                Nam
                <input type="radio" name="gender" class="form-control" value="famale">
                Nữ
                <input type="radio" name="gender" class="form-control" value="other">
                Khác
                <span class="form-message"></span>
            </div>
            <button class="form-submit">Đăng ký</button>
        </form>
    </div>

    <!-- 
        Mục tiêu mong muốn
        1. Xử lý lỗi cơ bản
            1.1 Khi blur ra input thì sẽ báo lỗi là chưa nhập
            1.2 Khi nhập không đúng quy định của gmail là @gmail.com thì sẽ báo lỗi
            1.3 khi nhập đầy đủ thông tin thì không báo lỗi và ẩn chữ màu đỏ là chưa nhập đi

     -->
    <script src="./validator.js"></script>
    <script>

        // Mong muốn sử dụng thư viện này trong tương lai
        Validator({
            form:'#form-1', // Lấy ra form cần xử lý
            errorSelector: '.form-message',
            formGroup: '.form-group',
            rules: [ 
                Validator.isRequired('#fullname','Vui lòng nhập đúng họ và tên'),
            //     // Validator.isRequired('#province'),
                Validator.isRequired('#email', 'Vui lòng nhập đúng email'),
                Validator.isEmail('#email', 'Vui lòng nhập đúng email'),
            //     // Validator.isRequired('#avatar'),
                Validator.isRequired('#password', 'Vui lòng nhập mật khẩu của bạn'),
                Validator.minlength('#password', 6),
                Validator.isRequired('#password_confirmation'),
                Validator.isComfirmed('#password_confirmation', function () {
                    return document.querySelector('#form-1 #password').value; 
                }, 'Mật khẩu nhập lại vào chưa chính xác'),
                Validator.isRequired('input[name="gender"]'),
            //     Validator.isComfirmed('#password_confirmation', function () {
            //         return document.querySelector('#form-1 #password').value;
            //     }, 'Mật khẩu nhập lại không trùng khớp'),
            // //     Validator.isComfirmed('#password_confirmation', function () {
            //         return document.querySelector('#form-1 #password').value;
            //     }, 'Mật khẩu nhập lại không chính xác')
            ],
            onSubmit: function (data) {
                console.log(data);
            }
        });
    </script>
</body>
</html>